System.register(["jimu-core","jimu-for-builder","jimu-ui/advanced/setting-components","jimu-layouts/layout-runtime","jimu-ui","jimu-theme","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker"],(function(e,t){var o={},i={},a={},n={},l={},r={},s={},c={};return{setters:[function(e){o.AnimationType=e.AnimationType,o.BrowserSizeMode=e.BrowserSizeMode,o.ControllerPosition=e.ControllerPosition,o.Immutable=e.Immutable,o.React=e.React,o.ReactRedux=e.ReactRedux,o.classNames=e.classNames,o.css=e.css,o.getAppStore=e.getAppStore,o.getNextAnimationId=e.getNextAnimationId,o.hooks=e.hooks,o.jsx=e.jsx,o.polished=e.polished,o.utils=e.utils},function(e){i.builderAppSync=e.builderAppSync,i.getAppConfigAction=e.getAppConfigAction},function(e){a.DirectionSelector=e.DirectionSelector,a.SettingRow=e.SettingRow,a.SettingSection=e.SettingSection},function(e){n.LayoutItemSizeModes=e.LayoutItemSizeModes,n.defaultMessages=e.defaultMessages,n.searchUtils=e.searchUtils,n.utils=e.utils},function(e){l.Button=e.Button,l.CollapsablePanel=e.CollapsablePanel,l.CollapsableToggle=e.CollapsableToggle,l.DistanceUnits=e.DistanceUnits,l.Icon=e.Icon,l.Label=e.Label,l.MultiSelect=e.MultiSelect,l.NumericInput=e.NumericInput,l.Radio=e.Radio,l.Select=e.Select,l.Switch=e.Switch,l.Tab=e.Tab,l.Tabs=e.Tabs,l.Tooltip=e.Tooltip,l.defaultMessages=e.defaultMessages},function(e){r.styled=e.styled,r.useTheme=e.useTheme,r.useTheme2=e.useTheme2},function(e){s.AnimationSettingComponent=e.AnimationSettingComponent,s.FontStyle=e.FontStyle,s.InputUnit=e.InputUnit,s.SizeEditor=e.SizeEditor},function(e){c.ThemeColorPicker=e.ThemeColorPicker}],execute:function(){e((()=>{var e={88866:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},48891:e=>{"use strict";e.exports=o},23137:e=>{"use strict";e.exports=i},74758:e=>{"use strict";e.exports=n},34796:e=>{"use strict";e.exports=r},30726:e=>{"use strict";e.exports=l},77756:e=>{"use strict";e.exports=a},55505:e=>{"use strict";e.exports=s},41362:e=>{"use strict";e.exports=c}},t={};function d(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,d),a.exports}d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},d.d=(e,t)=>{for(var o in t)d.o(t,o)&&!d.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="";var p={};return d.p=window.jimuConfig.baseUrl,(()=>{"use strict";d.r(p),d.d(p,{__set_webpack_public_path__:()=>U,default:()=>$});var e,t=d(48891),o=d(23137),i=d(77756),a=d(74758);!function(e){e.Stack="STACK",e.SideBySide="SIDEBYSIDE"}(e||(e={}));var n=d(30726);const l={_widgetLabel:"Widget Controller",behavior:"Behavior",openWidget:"How many widgets can be opened",displayType:"Display type",iconStyle:"Icon",showIconLabel:"Label",iconSizeOverride:"Size",iconInterval:"Spacing",textFormatOverride:"Text",iconBackgroundOverride:"Icon",openStart:"Open widgets on loading",widgetsSelected:"{widgetNumber} widgets selected",appearanceTip:"Select the widgets inside the Widget Controller, and customize their icons, labels, or styles to change their appearances.",widgetPanelArrangment:"Widget panel arrangement",panelFloating:"Floating",positionAndSize:"Position & size",margins:"Margins",indicator:"Indicator"};var r,s=d(34796);!function(e){e[e.Circle=0]="Circle",e[e.Rectangle=1]="Rectangle"}(r||(r={}));const c=e=>{const{className:o,title:i,type:a,active:l,onClick:c}=e,d=(()=>{const e=(0,s.useTheme)(),o=null==e?void 0:e.colors.white,i=null==e?void 0:e.colors.palette.primary[700],a=null==e?void 0:e.colors.palette.dark[900];return t.React.useMemo((()=>t.css`
    background-color: ${o} !important;
    padding: 0px !important;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    width: ${t.polished.rem(28)};
    height: ${t.polished.rem(28)};
    margin: 2px;
    border-radius: 0px; 
    &.active{
      border: 2px ${i} solid !important;
    }
    .inner {
      width: 66%;
      height: 66%;
      border: 1px ${a} solid;
      border-radius: 2px;
      &.circle {
        border-radius: 50%;
    }
    }
  `),[o,i,a])})(),p=(0,t.classNames)("shapes",{active:l},o);return(0,t.jsx)(n.Button,{css:d,onClick:c,title:i,"aria-label":i,"aria-pressed":l,className:p},(0,t.jsx)("div",{className:(0,t.classNames)("inner",{rectangle:a===r.Rectangle},{circle:a===r.Circle})}))};var u=d(55505);const m={position:t.ControllerPosition.TopRight,width:"320px",height:"480px",offsetX:0,offsetY:0};document.body,document;var g=d(41362);const v=e=>{const{bold:o,italic:i,underline:a,strike:n,color:l,onChange:r}=e,c=(0,s.useTheme2)();return t.React.createElement("div",{className:"font-setting d-flex align-items-center",role:"group","aria-label":e["aria-label"]},t.React.createElement(u.FontStyle,{bold:o,italic:i,underline:a,strike:n,onChange:r}),t.React.createElement(g.ThemeColorPicker,{className:"jimu-outline-inside",specificTheme:c,value:l,onChange:e=>{r("color",e)}}))},h=["default","active","hover"],f=e=>{const{className:o,variant:a,onChange:r}=e,c=t.hooks.useTranslation(l,n.defaultMessages),d=(0,s.useTheme2)();return(0,t.jsx)(i.SettingRow,{className:"sw-controller__advanced-setting",role:"group","aria-label":c("advance"),flow:"wrap"},(0,t.jsx)(n.Tabs,{type:"pills",className:(0,t.classNames)("flex-grow-1 w-100 h-100",o),fill:!0,defaultValue:h[0]},h.map(((e,o)=>{const l=null==a?void 0:a[e];return(0,t.jsx)(n.Tab,{key:o,id:e,className:"tab-title-item",title:c("active"===e?"selected":e)},(0,t.jsx)(i.SettingRow,{className:"mt-4",label:c("textFormatOverride"),flow:"no-wrap",truncateLabel:!0},(0,t.jsx)(v,{"aria-label":c("textFormatOverride"),bold:null==l?void 0:l.bold,italic:null==l?void 0:l.italic,underline:null==l?void 0:l.underline,strike:null==l?void 0:l.strike,color:null==l?void 0:l.color,onChange:(t,o)=>{r(e,t,o)}})),(0,t.jsx)(i.SettingRow,{className:"mt-2",label:c("iconBackgroundOverride"),flow:"no-wrap",truncateLabel:!0},(0,t.jsx)(g.ThemeColorPicker,{className:"jimu-outline-inside","aria-label":c("iconBackgroundOverride"),specificTheme:d,value:null==l?void 0:l.bg,onChange:t=>{r(e,"bg",t)}})))}))))};var b=d(88866),w=d.n(b);const x=e=>{const o=(()=>{const e=(0,s.useTheme)(),o=null==e?void 0:e.colors.palette.dark[600],i=null==e?void 0:e.colors.black;return t.css`
    .jimu-icon {
      color: ${o};
      &:hover {
        color: ${i};
      }
    }
  `})(),{className:i,tooltip:a="",icon:l=w()}=e;return(0,t.jsx)(n.Tooltip,{title:a},(0,t.jsx)(n.Button,{icon:!0,size:"sm",type:"tertiary",css:o,className:(0,t.classNames)("icon-tooltip d-flex align-items-center",i)},(0,t.jsx)(n.Icon,{icon:l})))},S=e=>{const{className:o,label:i,tooltip:a="",icon:n}=e;return(0,t.jsx)("div",{className:(0,t.classNames)("label-tooltip d-flex align-items-center justify-content-between",o)},(0,t.jsx)("div",{className:"text-truncate",title:i},i),(0,t.jsx)(x,{icon:n,tooltip:a}))},C=(0,s.styled)((e=>{const{className:o,activate:i,onClick:a,title:n,"aria-label":l}=e;return t.React.createElement("div",{role:"button",tabIndex:0,title:n,"aria-label":l,onClick:a,onKeyDown:e=>{"Enter"===e.key&&a&&a(e)},className:(0,t.classNames)("position-item",{activate:i},o),style:{cursor:"pointer"}})}))`
    width: 22px;
    height: 22px;
    cursor: pointer;
    background-color: transparent;
    border-top: 1px solid var(--light-500);
    border-left: 1px solid var(--light-500);
    &:nth-of-type(-n+2) {
        border-top: none;
    }
    &:nth-of-type(3n+1){
        border-left: none;
    }
    &.activate {
        background: var(--primary-100);
        border: 1px solid var(--primary-700);
    }
`,y=[t.ControllerPosition.TopLeft,t.ControllerPosition.TopCenter,t.ControllerPosition.TopRight,t.ControllerPosition.MiddleLeft,t.ControllerPosition.MiddleCenter,t.ControllerPosition.MiddleRight,t.ControllerPosition.BottomLeft,t.ControllerPosition.BottomCenter,t.ControllerPosition.BottomRight],R={[t.ControllerPosition.TopLeft]:"TL",[t.ControllerPosition.TopCenter]:"TC",[t.ControllerPosition.TopRight]:"TR",[t.ControllerPosition.MiddleLeft]:"ML",[t.ControllerPosition.MiddleCenter]:"MC",[t.ControllerPosition.MiddleRight]:"MR",[t.ControllerPosition.BottomLeft]:"BL",[t.ControllerPosition.BottomCenter]:"BC",[t.ControllerPosition.BottomRight]:"BR"},j=s.styled.div`
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 0;
    border: 1px solid var(--light-500);
  `,I=e=>{const{value:o,onChange:i,"aria-label":a}=e,l=t.hooks.useTranslation(n.defaultMessages);return t.React.createElement(j,{className:"posotion-setting",role:"group","aria-label":a},y.map((e=>t.React.createElement(C,{key:e,title:l(R[e]),"aria-label":l(R[e]),activate:e===o,onClick:()=>{null==i||i(e)}}))))};function T(e){return(null==e?void 0:e.type)&&e.type!==t.AnimationType.None}function N(e){const{controllerId:a}=e,n=t.ReactRedux.useSelector((e=>{var t,o;return null===(o=null===(t=e.appStateInBuilder.appConfig.controllerPanels)||void 0===t?void 0:t[a])||void 0===o?void 0:o.effect})),l=t.hooks.useTranslation(),r=t.React.useCallback(((e,i)=>{const n=(0,o.getAppConfigAction)(),l=n.appConfig.controllerPanels[a];n.editControllerPanel(a,l.set("effect",i)).exec(),T(i)&&o.builderAppSync.publishAnimationPreviewToApp({controllerId:a,id:(0,t.getNextAnimationId)()})}),[a]),s=t.React.useCallback((()=>{T(n)&&o.builderAppSync.publishAnimationPreviewToApp({controllerId:a,id:(0,t.getNextAnimationId)()})}),[n,a]);return(0,t.jsx)(i.SettingSection,{className:"p-0 mt-4",role:"group","aria-label":l("animation"),title:l("animation")},(0,t.jsx)(i.SettingRow,null,(0,t.jsx)(u.AnimationSettingComponent,{effectSetting:n,onSettingChange:r,previewEnabled:!0,supportAsOne:!0,supportOneByOne:!1,onPreviewClicked:s,formatMessage:l})))}const P=s.styled.div`
  width: 100%;
  .position-size {
    display: flex;
    justify-content: space-between;
    .sizes-editor {
      width: 121px;
      .app-root-emotion-cache-ltr-50z74a >.jimu-widget-setting--row-label {
        margin-right: 8px;
      }
      .size-editor {
        width: 100px !important;
      }
    }
  }
  .jimu-widget-setting--row-label {
    margin-right: auto;
  }
  .offset-numeric-input {
    width: 110px !important;
  }
`,k=s.styled.div`
  width: 100%;
  height: 1px;
  background-color: var(--light-500);
  margin: 16px 0;
`,M=e=>{const o=(0,t.getAppStore)().getState().appStateInBuilder,{width:i,height:a}=t.utils.findViewportSize(o.appConfig,o.browserSizeMode);return e?a:i},A=[a.LayoutItemSizeModes.Custom,a.LayoutItemSizeModes.Stretch],L=[n.DistanceUnits.PIXEL,n.DistanceUnits.PERCENTAGE],z=e=>{var r,s,c,d,p,g;const{id:v}=e,h=t.ReactRedux.useSelector((e=>{var t;return null===(t=e.appStateInBuilder.appConfig.controllerPanels)||void 0===t?void 0:t[v]})),f=null!=h?h:(0,t.Immutable)(m),b=null!==(r=f.widthMode)&&void 0!==r?r:a.LayoutItemSizeModes.Custom,w=null!==(s=f.heightMode)&&void 0!==s?s:a.LayoutItemSizeModes.Custom,x=t.hooks.useTranslation(n.defaultMessages,l),S=(e,t)=>{(0,o.getAppConfigAction)().editControllerPanel(v,f.set(e,t)).exec()},C=(e,i)=>{var a,n;const l="height"===e||"top"===e||"bottom"===e,r=((e,o,i)=>{if(null==e)return o;let a=o.distance;const n=(e=>{if("string"==typeof e){const o=t.polished.getValueAndUnit(e);return{distance:o[0],unit:o[1]}}return e})(e);return"px"===n.unit&&"%"===o.unit?a=((e,t)=>{const o=M(t);return parseFloat((e/o*100).toFixed(3))})(o.distance,i):"%"===n.unit&&"px"===o.unit&&(a=((e,t)=>{const o=M(t);return Math.floor(e*o/100)})(o.distance,i)),{distance:a,unit:o.unit}})(f[e],i,l),s=`${null!==(a=null==r?void 0:r.distance)&&void 0!==a?a:0}${null!==(n=null==r?void 0:r.unit)&&void 0!==n?n:"px"}`;(0,o.getAppConfigAction)().editControllerPanel(v,f.set(e,s)).exec()};return t.React.createElement(P,{className:"fixed-layout-style-setting"},t.React.createElement("div",{className:"position-size"},t.React.createElement(I,{"aria-label":x("positionAndSize"),value:f.position,onChange:e=>{S("position",e)}}),t.React.createElement("div",{className:"sizes-editor"},t.React.createElement(i.SettingRow,{className:"mt-0",label:"W","aria-label":x("width")},t.React.createElement(u.SizeEditor,{label:"W",mode:b,sizeModes:A,value:f.width,onModeChange:e=>{var i;const n=(0,o.getAppConfigAction)();let l=f.set("widthMode",e);const r=f.width,s=f.position;if(e===a.LayoutItemSizeModes.Stretch){const e=100*(null!==(i=f.offsetX)&&void 0!==i?i:0)/M(!1);let o;o=a.utils.isPercentage(r)?parseFloat(r):100*parseFloat(r)/M(!1),l=s===t.ControllerPosition.TopLeft||s===t.ControllerPosition.BottomLeft||s===t.ControllerPosition.MiddleLeft?l.set("left",`${e.toFixed(2)}%`).set("right",`${(100-e-o).toFixed(2)}%`):s===t.ControllerPosition.TopRight||s===t.ControllerPosition.BottomRight||s===t.ControllerPosition.MiddleRight?l.set("right",-e.toFixed(2)+"%").set("left",`${(100+e-o).toFixed(2)}%`):l.set("left",`${((100-o)/2+e).toFixed(2)}%`).set("right",`${((100-o)/2-e).toFixed(2)}%`),l=l.set("offsetX",0).without("width")}else{let e=parseFloat(f.left),t=parseFloat(f.right);a.utils.isPercentage(f.left)||(e=100*e/M(!1)),a.utils.isPercentage(f.right)||(t=100*t/M(!1)),l=l.without("left").without("right").set("width",`${(100-e-t).toFixed(2)}%`)}n.editControllerPanel(v,l).exec()},onChange:e=>{C("width",e)}})),t.React.createElement(i.SettingRow,{className:"mt-4",label:"H","aria-label":x("height")},t.React.createElement(u.SizeEditor,{label:"H",mode:w,sizeModes:A,value:f.height,onModeChange:e=>{var i;const n=(0,o.getAppConfigAction)();let l=f.set("heightMode",e);const r=f.height,s=f.position;if(e===a.LayoutItemSizeModes.Stretch){const e=100*(null!==(i=f.offsetY)&&void 0!==i?i:0)/M(!0);let o;o=a.utils.isPercentage(r)?parseFloat(r):100*parseFloat(r)/M(!0),l=s===t.ControllerPosition.TopLeft||s===t.ControllerPosition.TopCenter||s===t.ControllerPosition.TopRight?l.set("top",`${e.toFixed(2)}%`).set("bottom",`${(100-e-o).toFixed(2)}%`):s===t.ControllerPosition.BottomLeft||s===t.ControllerPosition.BottomRight||s===t.ControllerPosition.BottomCenter?l.set("bottom",-e.toFixed(2)+"%").set("top",`${(100+e-o).toFixed(2)}%`):l.set("top",`${((100-o)/2+e).toFixed(2)}%`).set("bottom",`${((100-o)/2-e).toFixed(2)}%`),l=l.set("offsetY",0).without("height")}else{let e=parseFloat(f.top),t=parseFloat(f.bottom);a.utils.isPercentage(f.top)||(e=100*e/M(!0)),a.utils.isPercentage(f.bottom)||(t=100*t/M(!0)),l=l.without("top").without("bottom").set("height",`${(100-e-t).toFixed(2)}%`)}n.editControllerPanel(v,l).exec()},onChange:e=>{C("height",e)}})))),("STRETCH"===w||"STRETCH"===b)&&t.React.createElement(i.SettingSection,{className:"mt-4 p-0 border-bottom-0",title:x("margins")},"STRETCH"===f.heightMode&&t.React.createElement(t.React.Fragment,null,t.React.createElement(i.SettingRow,{className:"mt-4",flow:"no-wrap",label:x("top"),truncateLabel:!0},t.React.createElement(u.InputUnit,{className:"offset-numeric-input",units:L,precision:2,value:a.utils.normalizeLinearUnit(null!==(c=f.top)&&void 0!==c?c:"0%"),onChange:e=>{C("top",e)}})),t.React.createElement(i.SettingRow,{className:"mt-4",flow:"no-wrap",label:x("bottom"),truncateLabel:!0},t.React.createElement(u.InputUnit,{className:"offset-numeric-input",units:L,precision:2,value:a.utils.normalizeLinearUnit(null!==(d=f.bottom)&&void 0!==d?d:"0%"),onChange:e=>{C("bottom",e)}}))),"STRETCH"===f.widthMode&&t.React.createElement(t.React.Fragment,null,t.React.createElement(i.SettingRow,{className:"mt-4",flow:"no-wrap",label:x("left"),truncateLabel:!0},t.React.createElement(u.InputUnit,{className:"offset-numeric-input",units:L,precision:2,value:a.utils.normalizeLinearUnit(null!==(p=f.left)&&void 0!==p?p:"0%"),onChange:e=>{C("left",e)}})),t.React.createElement(i.SettingRow,{className:"mt-4",flow:"no-wrap",label:x("right"),truncateLabel:!0},t.React.createElement(u.InputUnit,{className:"offset-numeric-input",units:L,precision:2,value:a.utils.normalizeLinearUnit(null!==(g=f.right)&&void 0!==g?g:"0%"),onChange:e=>{C("right",e)}})))),"STRETCH"!==f.widthMode&&t.React.createElement(i.SettingRow,{className:"mt-4",flow:"no-wrap",label:x("offsetX"),truncateLabel:!0},t.React.createElement(n.NumericInput,{"aria-label":x("offsetX"),className:"offset-numeric-input",size:"sm",value:f.offsetX,onAcceptValue:e=>{S("offsetX",e)}})),"STRETCH"!==f.heightMode&&t.React.createElement(i.SettingRow,{className:"mt-4",flow:"no-wrap",label:x("offsetY"),truncateLabel:!0},t.React.createElement(n.NumericInput,{"aria-label":x("offsetY"),className:"offset-numeric-input",size:"sm",value:f.offsetY,onAcceptValue:e=>{S("offsetY",e)}})),t.React.createElement(k,null),t.React.createElement(N,{controllerId:v}))},E="#080808",B="none",F=t.css`
    font-size: 13px;
    font-weight: lighter;
    .setting-row-item {
      width: 100%;
      display: flex;
      margin-top: 0.5rem;
      > span.jimu-radio {
        flex-shrink: 0;
        margin-top: 0.1rem;
      }
      > label {
        margin-bottom: 0;
      }
    }
    .jimu-multi-select {
      width: 100%;
      > .jimu-dropdown {
        width: 100%;
      }
      > .jimu-menu-item {
        width: 100%;
        height: ${t.polished.rem(26)};
      }
    }
  `,O=(e,t)=>{var o,i,a,n,l;const r=(null===(i=null===(o=null==t?void 0:t.appearance)||void 0===o?void 0:o.card.avatar)||void 0===i?void 0:i.type)||"primary";let s=null===(l=null===(n=null===(a=null==e?void 0:e.components)||void 0===a?void 0:a.button)||void 0===n?void 0:n.variants)||void 0===l?void 0:l[r];return s=s.setIn(["default","color"],E),s=s.setIn(["active","color"],E),s},$=d=>{var p,g,v,h,b,w,x,C,y,R,j,I,T,N,P,k,M,A,L,E,$;const{id:U,config:_,onSettingChange:D}=d,H=t.ReactRedux.useSelector((e=>{var o;return(null===(o=e.appStateInBuilder)||void 0===o?void 0:o.browserSizeMode)===t.BrowserSizeMode.Small})),W=null===(p=null==_?void 0:_.behavior)||void 0===p?void 0:p.onlyOpenOne,X=null===(g=null==_?void 0:_.behavior)||void 0===g?void 0:g.displayType,Y=null!==(h=null===(v=null==_?void 0:_.behavior)||void 0===v?void 0:v.arrangement)&&void 0!==h?h:"floating",G=null===(b=null==_?void 0:_.behavior)||void 0===b?void 0:b.vertical,V=null===(w=null==_?void 0:_.behavior)||void 0===w?void 0:w.openStarts,q=null===(x=null==_?void 0:_.appearance)||void 0===x?void 0:x.space,K=null===(C=null==_?void 0:_.appearance)||void 0===C?void 0:C.advanced,J=null===(y=null==_?void 0:_.appearance.card)||void 0===y?void 0:y.showLabel,Q=null===(j=null===(R=null==_?void 0:_.appearance.card)||void 0===R?void 0:R.showIndicator)||void 0===j||j,Z=null===(T=null===(I=null==_?void 0:_.appearance.card)||void 0===I?void 0:I.showTooltip)||void 0===T||T,ee=null!==(P=null===(N=null==_?void 0:_.appearance.card)||void 0===N?void 0:N.labelGrowth)&&void 0!==P?P:0,te=null===(M=null===(k=null==_?void 0:_.appearance.card)||void 0===k?void 0:k.avatar)||void 0===M?void 0:M.size,oe=null===(L=null===(A=null==_?void 0:_.appearance.card)||void 0===A?void 0:A.avatar)||void 0===L?void 0:L.shape,ie=null!==(E=null==V?void 0:V[0])&&void 0!==E?E:B,ae=G?q:ee,ne=t.React.useRef(0),le=(0,s.useTheme2)(),re=((e,o)=>{const i=(e=>{var t,o,i;let a=(null!==(i=null===(o=null===(t=null==e?void 0:e.order)||void 0===t?void 0:t.asMutable)||void 0===o?void 0:o.call(t))&&void 0!==i?i:[]).map((t=>{var o;return null===(o=e.content)||void 0===o?void 0:o[t]}));return a=a.filter((e=>e&&e.id&&e.widgetId&&!e.isPending)),a.map((e=>e.id)).map((t=>{var o,i;return null===(i=null===(o=e.content)||void 0===o?void 0:o[t])||void 0===i?void 0:i.widgetId}))})(t.ReactRedux.useSelector((t=>{var o,i,n,l;const r=null===(n=null===(i=null===(o=(t=t.appStateInBuilder).appConfig.widgets)||void 0===o?void 0:o[e])||void 0===i?void 0:i.layouts)||void 0===n?void 0:n.controller,s=t.browserSizeMode,c=t.appConfig.mainSizeMode,d=a.searchUtils.findLayoutId(r,s,c);return null===(l=t.appConfig.layouts)||void 0===l?void 0:l[d]}))),n=t.ReactRedux.useSelector((e=>e.appStateInBuilder.appConfig.widgets));return(0,t.Immutable)(i||[]).map((e=>{var t;return{label:null===(t=n[e])||void 0===t?void 0:t.label,value:e}}))})(U),se=t.hooks.useTranslation(n.defaultMessages,a.defaultMessages,l),ce=K?null===($=null==_?void 0:_.appearance)||void 0===$?void 0:$.card.variant:O(le,_),de=(e,t)=>{let o=null;o=Array.isArray(e)?_.setIn(e,t):_.set(e,t),D({id:U,config:o})},pe=(o,i,a)=>{if(!o.currentTarget.checked)return;let n=null;"onlyOpenOne"===i?(n=_.setIn(["behavior","openStarts"],(0,t.Immutable)([])).setIn(["behavior",i],a),a||(n=n.setIn(["behavior","arrangement"],"floating")),ue("floating")):"displayType"===i&&(a=a?e.Stack:e.SideBySide,n=_.setIn(["behavior",i],a)),D({id:U,config:n})},ue=e=>{const t=(0,o.getAppConfigAction)();"floating"===e?t.removeControllerPanel(U):"fixed"===e&&t.editControllerPanel(U,m),t.exec()},me=(e,t)=>{var o;if(!e.currentTarget.checked)return;const i=_.set("behavior",null===(o=null==_?void 0:_.behavior)||void 0===o?void 0:o.set("arrangement",t));ue(t),D({id:U,config:i})},ge=e=>{let t=_.setIn(["appearance","advanced"],e);if(e){const e=O(le,_);t=t.setIn(["appearance","card","variant"],e)}else t=t.setIn(["appearance","card","variant"],void 0);D({id:U,config:t})};return(0,t.jsx)("div",{className:"widget-setting-controller jimu-widget-setting",css:F},(0,t.jsx)(i.SettingSection,null,(0,t.jsx)(i.SettingRow,{flow:"no-wrap",label:se("direction")},(0,t.jsx)(i.DirectionSelector,{"aria-label":se("direction"),size:"sm",vertical:G,onChange:e=>{var t,i;let a=_.setIn(["behavior","vertical"],e);if(e){const e=null!==(t=a.appearance.card.labelGrowth)&&void 0!==t?t:0;a=a.setIn(["appearance","card","labelGrowth"],0).setIn(["appearance","space"],ne.current),ne.current=e}else{const e=null!==(i=a.appearance.space)&&void 0!==i?i:0;a=a.setIn(["appearance","space"],0).setIn(["appearance","card","labelGrowth"],ne.current),ne.current=e}D({id:U,config:a}),(0,o.getAppConfigAction)().exchangeWidthAndHeight().exec()}}))),(0,t.jsx)(i.SettingSection,{title:se("behavior"),role:"group","aria-label":se("behavior")},(0,t.jsx)(i.SettingRow,{flow:"wrap",label:se("openWidget")},(0,t.jsx)("div",{role:"radiogroup",className:"setting-row-item","aria-label":se("openWidget")},(0,t.jsx)(n.Radio,{id:"only-open-one",style:{cursor:"pointer"},name:"only-open-one",onChange:e=>{pe(e,"onlyOpenOne",!0)},checked:W}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"only-open-one",className:"ml-2"},se("single"))),(0,t.jsx)("div",{className:"setting-row-item"},(0,t.jsx)(n.Radio,{id:"open-multiple",style:{cursor:"pointer"},name:"only-open-one",onChange:e=>{pe(e,"onlyOpenOne",!1)},checked:!W}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"open-multiple",className:"ml-2"},se("multiple")))),(0,t.jsx)(i.SettingRow,{flow:"wrap",label:se("openStart")},!W&&(0,t.jsx)(n.MultiSelect,{size:"sm","a11y-description":se("openStart"),values:V,items:re,onClickItem:(e,t,o)=>{const i=W?o.length?[t]:[]:o;de(["behavior","openStarts"],i)},displayByValues:e=>{if(W&&e.length){const t=re.find((t=>t.value===e[0]));return null==t?void 0:t.label}{const t=(null==e?void 0:e.length)||0;return se("widgetsSelected",{widgetNumber:t})}}}),W&&(0,t.jsx)(n.Select,{"a11y-description":se("openStart"),value:ie,size:"sm",onChange:e=>{const t=e.target.value;let o=[];t!==B&&(o=[t]),de(["behavior","openStarts"],o)},className:"w-100"},(0,t.jsx)("option",{value:B},se("none")),null==re?void 0:re.map((e=>(0,t.jsx)("option",{key:e.value,value:e.value},e.label))))),!W&&(0,t.jsx)(i.SettingRow,{flow:"wrap",label:se("displayType")},(0,t.jsx)("div",{role:"radiogroup",className:"setting-row-item","aria-label":se("displayType")},(0,t.jsx)(n.Radio,{id:"display-stack",style:{cursor:"pointer"},name:"display-type",onChange:e=>{pe(e,"displayType",!0)},checked:X===e.Stack}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"display-stack",className:"ml-2"},se("stack"))),(0,t.jsx)("div",{className:"setting-row-item"},(0,t.jsx)(n.Radio,{id:"display-side-by-side",style:{cursor:"pointer"},name:"display-type",onChange:e=>{pe(e,"displayType",!1)},checked:X===e.SideBySide}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"display-side-by-side",className:"ml-2"},se("sideBySide"))))),!H&&W&&(0,t.jsx)(i.SettingSection,null,(0,t.jsx)(n.CollapsablePanel,{defaultIsOpen:!0,label:se("widgetPanelArrangment")},(0,t.jsx)(i.SettingRow,{flow:"wrap",role:"group","aria-label":se("widgetPanelArrangment")},(0,t.jsx)("div",{role:"radiogroup",className:"setting-row-item","aria-label":se("widgetPanelArrangment")},(0,t.jsx)(n.Radio,{id:"panel-floating",style:{cursor:"pointer"},name:"panel-arrangment",onChange:e=>{me(e,"floating")},checked:"floating"===Y}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"panel-floating",className:"ml-2"},se("panelFloating"))),(0,t.jsx)("div",{className:"setting-row-item"},(0,t.jsx)(n.Radio,{id:"panel-fixed",style:{cursor:"pointer"},name:"panel-arrangment",onChange:e=>{me(e,"fixed")},checked:"fixed"===Y}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"panel-fixed",className:"ml-2"},se("fixed")))),"fixed"===Y&&(0,t.jsx)(i.SettingRow,{flow:"wrap",label:se("positionAndSize")},(0,t.jsx)(z,{id:U})))),(0,t.jsx)(i.SettingSection,null,(0,t.jsx)(n.CollapsablePanel,{defaultIsOpen:!0,label:(0,t.jsx)(S,{label:se("appearance"),tooltip:se("appearanceTip")})},(0,t.jsx)(i.SettingRow,{flow:"wrap",label:se("iconStyle"),className:"mt-4"},(0,t.jsx)("div",{role:"group",className:"d-flex","aria-label":se("iconStyle")},(0,t.jsx)(c,{type:r.Circle,title:se("circle",!0),className:"mr-2",active:"circle"===oe,onClick:()=>{de(["appearance","card","avatar","shape"],"circle")}}),(0,t.jsx)(c,{type:r.Rectangle,title:se("rectangle"),active:"rectangle"===oe,onClick:()=>{de(["appearance","card","avatar","shape"],"rectangle")}}))),(0,t.jsx)(i.SettingRow,{label:se("showIconLabel")},(0,t.jsx)(n.Switch,{checked:J,"aria-label":se("showIconLabel"),onChange:e=>{de(["appearance","card","showLabel"],e.target.checked)}})),(0,t.jsx)(i.SettingRow,{label:se("indicator")},(0,t.jsx)(n.Switch,{checked:Q,"aria-label":se("indicator"),onChange:e=>{de(["appearance","card","showIndicator"],e.target.checked)}})),(0,t.jsx)(i.SettingRow,{label:se("tooltip")},(0,t.jsx)(n.Switch,{checked:Z,"aria-label":se("tooltip"),onChange:e=>{de(["appearance","card","showTooltip"],e.target.checked)}})),(0,t.jsx)(i.SettingRow,{flow:"no-wrap",label:se("iconSizeOverride")},(0,t.jsx)(n.Select,{size:"sm","aria-label":se("iconSizeOverride"),value:te,onChange:e=>{de(["appearance","card","avatar","size"],e.target.value)},className:"w-50"},(0,t.jsx)("option",{value:"sm"},se("small")),(0,t.jsx)("option",{value:"default"},se("medium")),(0,t.jsx)("option",{value:"lg"},se("large")))),(0,t.jsx)(i.SettingRow,{flow:"no-wrap",label:se("iconInterval")},(0,t.jsx)(u.InputUnit,{className:"w-50",min:0,max:999,description:se("iconInterval"),value:{distance:ae,unit:n.DistanceUnits.PIXEL},onChange:({distance:e})=>{(e=>{e=+e,isNaN(e)&&(e=0);let t=_;t=t.behavior.vertical?t.setIn(["appearance","space"],e).setIn(["appearance","card","labelGrowth"],0):t.setIn(["appearance","card","labelGrowth"],e).setIn(["appearance","space"],0),D({id:U,config:t})})(e)}})))),(0,t.jsx)(i.SettingSection,null,(0,t.jsx)(n.CollapsableToggle,{label:se("advance"),isOpen:K,onRequestOpen:()=>{ge(!0)},onRequestClose:()=>{ge(!1)}},(0,t.jsx)(f,{className:"mt-4",variant:ce,onChange:(e,t,o)=>{de(["appearance","card","variant",e,t],o)}}))))};function U(e){d.p=e}})(),p})())}}}));